# LSDjで始めるチップチューン

## 04. LSDjと戯れてみよう

### LSDjにおけるデータの構造
LSDjでは、一般的な音楽作成ソフトとすこし違い、ピアノロールのような形での入力はできません。
(伝わる人は少ないと思いますが、"レコンポーザ"のような入力に近いかもしれません)

一般的な音楽作成ソフトが

- トラック一覧
    - トラック
        - ピアノロールのようなもの
        
という形での構成かと思いますがLSDjの場合は
- トラック(チャンネル)一覧(SONG画面)
    - 最大16小節が入る**CHAIN**
        - 1小節ごとの**PHRASE**

という、最小1小節毎のブロックごとに分割された構成となっています。
これだけを見てもよくわからないと思いますので、実際に触れながら見ていきましょう。

### 画面説明
#### SONG画面
(本当はSONG画面とは言わないのですが便宜上そう呼びます。)

![](https://i.imgur.com/cp0jRgw.png)
起動すると､このような画面になります｡
この画面がトップメニュー､｢SONG｣画面です｡
簡単に項目の説明をすると､00 01とあるのが1マスあたり16小節まで入力できる"**CHAIN**"を並べるところです｡

![](https://i.imgur.com/aPhXn4f.png)

上にある`PU1`, `PU2`, `WAV`, `NOI`は､[02](02.md)でも説明したチャンネル(楽器パート)です｡

- PU1とPU2はパルス音､つまり矩形波で"ピコピコ音"そのものです｡メロディ等を鳴らします。
- WAVはウェーブチャンネルです。波形メモリなのでそのままいろいろおt音を出すことができますが､主な用途はここでサイン波や三角波を再現してベースとして使ったり、LSDjにもともと収録されているドラムキットの音を出すために使われます。
    筆者は主に後者のドラムパートとしてつかっています｡
- NOIはノイズチャンネルです。ノイズ系の音が出せます｡ここをドラムとして使う場合もあります｡(強い人だとノイズでキレのあるキックドラムを出しちゃう人もいます)。


PU1の00にカーソルがあたっていますが､ここでAボタンを押すと- -が00になります｡
![](https://i.imgur.com/yavYoPT.png)
![](https://i.imgur.com/jrqlP5U.png)

これで"00"という**CHAIN**が用意されました｡
00は00番のCHAINという意味です。
そしてこのCHAINは最大**7F**まで存在します。
7Fとはどういうことだ?と思うかもしれませんが、LSDjではCHAINだけでなくPHRASE番号も含めて、全て**16進数**で表現されます。

進数というのがよくわからないという方もいるかと思いますので簡単にご説明します。
我々が普段生活する上で使っている数字の数え方は**10進数**です。0~9までの数字があって、9まで数えたら次の位の数が増えて、また0に戻るというやつです。09の次は10、19の次は20という感じですね。
16進数というのはざっくりいえば0~9までじゃなくて、0から9のあとにABCDEFと続きます。こうすることで、0~15まで1つの位で数えることができるようになります。たとえば10進数の8はそのまま8ですが、10進数の10は、16進数ではAとなります。15がFで16は10ですね。20は14ということになります(2つめの位が1なので、16がまず存在、そして一つ目の位が4なので16+4で20となる)。

ということは、CHAINの最大数が7Fということなので、最初の00番も含めると**128個**のCHAINが使えるのです。

(10進数と16進数の簡単な対応表はこちらをご覧ください。
http://www16.plala.or.jp/fm677/16hex.htm )

- **操作Tips: 値の変更**
    LSDjにおいてすべて共通の操作ですが、カーソルが当たっている状態で**Aボタン**を押しながら**左右キー**を押すと**次の番号/値**になります｡
    上下キーを入力した場合は、00→01ではなく、00→10のように、2つめの位が上下します。

#### CHAIN画面

CHAINの中を編集してみましょう｡CHAIN画面へは､**SELECTボタンを押しながら｢→｣を押す**と移動できます｡
![](https://i.imgur.com/Ivrgtk8.png)

上部に`PHR`と書いてあるのがわかるかと思います。
さて、先程も書きましたが、このCHAINというものの中には最大16個の小節毎の**PHR**ASEが格納できます。
そのため、左側のオレンジ色の部分が0~Fになっていますね。

`PHR`の横の`TSP`は、"トランスポーズ"です。
PHRASEの音を指定した段数移動します。トランスポーズについてはググったほうがわかりやすいのでここではこのくらいにしておきますが、どうしてこのトランスポーズがついているかについてご説明します。

先程も書いたように、LSDjではすべてがブロックごとに分割されています。
つまり、一度書いたCHAINやPHRASEをまた指定してあげれば、使いまわせるのです。(例: 00番のPHARSEに書いたものはCHAINにとらわれてはいないので、別の場所でまた00番を指定すればそのPHRASEが使える)
そういうとき、トランスポーズができれば、後半で転調したりしても、同じPHRASEを+1することで転調後のキーに合わせて鳴らすことが出来ます。また、ベース等で同じリズムなんだけどどんどん音が下がっていくという場合にも、一度書いたPHRASEを何個も並べてトランスポーズでいじれば、一度PHRASEを書くだけで簡単に作ることが出来ます。

そして、PHRASEは最大値が**FE**です。FEは10進数では254を表しますので00番を含めると最大PHRASE数は**255個**ということになります。255個しかPHRASEがないため、PHRASEの使いまわしを行わないと、PHRASE数が足りない!なんてことが簡単に発生してしまいます。
やり始めではそんなことは発生しないかもしれませんが、工数削減やPHRASE数削減のためにも、"使い回し"は覚えておいてくださいね。


- **操作Tips: 画面遷移に関して**
    LSDjでは、各画面がすべて横並びに存在していると考えてください。
    そしてその画面遷移はすべて**SELECTボタンと十字キー**で行います。
    横方向の構成は、先程も書いたように、
    SONG→CHAIN→PHRASEの順番にあります。それらは頻繁に行き来しますので、この**SELECTボタンと十字キー**は忘れないようにしてください。
    右下に`SCPIT`とありますが､ここで表示中の画面の位置を確認できます｡トップ画面は**S**ONG画面の**S**､次は**C**HAINの**C**､後述の**P**HRASEのP､**I**NSTRUMENTSの**I**､**T**ABLE(この講座では触れません)の**T**というふうになっています｡

では、先程同様、CHAINの0番に"00"のPHRASEを作って、PHRASE画面に行ってみましょう。
![](https://i.imgur.com/SRnuyXQ.png)

#### PHRASE画面
PHRASE画面に行くと、このような画面になります。
![](https://i.imgur.com/0b8TZQu.png)

PHRASE画面は、"小節"の編集画面となります。
試しに今カーソルが当たっている0番のところで**Aボタン**を押してみましょう。
![](https://i.imgur.com/MVW0baw.png)

低い｢ド｣の音と共に、`C 2`が入力されたかと思います。
これでわかるように、このPHRASE画面では音階を入力していくことになります。

さて、この画面でも左側のオレンジのところが0~Fまでありますね。そしてこのPHRASEは1小節です。
つまり、1つあたりが16分音符ということになります。

つまり、例えば4分音符を4つ置く、といった場合､`0`と`4`と`8`と`A`に、それぞれ音を置くことになります｡

では、試しに8分音符の間隔でドレミファソラシドと打ってみましょう｡

今までの数値変更と同じく、Aボタンを押しながら十字キーを押すことで音の変更が出来ます。
左右キーで変更すると半音ずつ変更、上下キーで変更するとその音を基準に1オクターブずつ上下します。

今回はC4~C5の範囲で入力してみましょう。

0番に`C4`､2番に`D4`･･･といった様に置いていきましょう。
置く場所を間違えたら**A+B**で消せます｡

どうですか?こうなりましたか?
![](https://i.imgur.com/kNo6eJH.png)

この状態で`START`ボタンを押すと･･･
｢ドレミファソラシド｣と鳴ったはずです｡

- **操作Tips: 曲の再生･停止**
`START`ボタンが再生･停止ボタンです｡
また、`SELECT`ボタンを押しながら`START`ボタンを押すと、全チャンネル同時再生となります。実際に曲を打ち込んでいく中で、いま入力しているところを他のチャンネルも合わせて聴きたい!っていうときに便利です。


今の段階では、各音はすべて繋がって再生され、音と音の間に隙間がありません。ということは、このままでは休符がないので、曲を打つときに困ってしまいます。ここで使うのが「**K**」**コマンド**です。
LSDjには"コマンド"がいくつかあります。
その中でも、**K**コマンドはは**K**ILLの意味で、音を止めるコマンドです。 (その他のコマンドは[参考資料]()にあるサイトにてご確認ください)
コマンドは、PHRASE画面の各音の一番右の列「`CMD`」のところの「-」の部分に入力します。`A`ボタンを押すと最初に「A」コマンドが入力されるので、先ほどのメロディの時と同じように**Aボタンを押しながら左右キー**で「K」まで移動します。
![](https://i.imgur.com/D8CAW6P.png)
![](https://i.imgur.com/qVOQNeg.png)


ためしにC4～F4のCMD欄にKコマンドをセットしてみましょう。
![](https://i.imgur.com/3udEVyH.png)

ここで`START`ボタンで再生すると、おそらく「ドレミファ」が無音になると思います。理由は簡単です。「K00」というコマンドは、「0tick目で止める(Killする)」という意味だからです。

さてここで**Tick**という言葉が出ました。Tickというのは時間の区切りの単位と考えてください。これについて説明します。

LSDjでは初期設定では**16分音符が6tick**となっています。つまり**1小節が96tick**で、**4分音符は24tick**です。(MIDI的に言うと分解能が24ということですね。Dominoのデフォルトが480なのでだいぶ低いことになります。)

- **注意**
    先程も書いたように、LSDjでは**数値は16進数で表記**されるので、8分音符は12tickなので**0C**tick、4分音符は24tickなので**18**tickとなります

今回の場合、音符は8分音符で並んでいますので、一つの音当たり**12tick**ということになります。
しかし、12tick流してしまうと隙間がなくなってしまい、KILLコマンドの意味がなくなってしまいます。ではどうやって調整かというと、"K00"の後ろの**00**の部分を変えるのです。
Kコマンドでは、後ろの数字は｢そのTick後にKillする｣という意味になります。つまり、K00は0Tick後に止めるという意味になりますね。
ということは、例えば8分音符の長さで止めたかったら、**K12**と指定すれば良いということです。

音の長さを調節するという練習のためにも、試しに一つ当たりの音符の長さを16分音符(6tick)にしてみましょう。
今入力したKコマンドの横の00というところにカーソルを合わせ、4つとも00から06に変えてみてください。(6tick)
![](https://i.imgur.com/RXo5xTw.png)

これで再生すると、｢ドッレッミッファッソーラーシードー｣と、ドレミファだけが16分音符で流れたはずです。LSDjでは音符の長さ(クオンタイズ)の設定をこのようにして行いますので、覚えておいてください。

- **音入力Tips: 連続した音の時**
    これを応用すると、同じ音が連続するとき、一つの音符の長さより2~3tick減らした長さにしておくと、音の間に隙間が入って聴き取りやすくなります。
    たとえば、このように、12tick-2tickの0Atickにすると、音の隙間ができるので、同じ音が連続していても聞き取りやすくなりますし、連続していなくても、音がパキッと締まるので、便利です。
    ![](https://i.imgur.com/L3YUdse.png)

- **音入力Tips: Kコマンドのタイミング**
    Kコマンドだけでなく他のすべてのコマンドでもそうですが、音が入力されているところにしか使ってはいけないわけではありません。
    なので、このように`K 0A`だけを使って、さまざまな音の長さを指定できたりもします。
    ![](https://i.imgur.com/Yog17Yl.png)

パルスチャンネルの音の変え方や、ドラムパート、ノイズチャンネルの説明は、実際に次のページで入力しながら学んでいきましょう。

### セーブ

正規版を使っている場合には、セーブが出来ます。実際に打ち込みをして見る前に、セーブをしてみましょう。
 
`SELECT`+`←` を2回行い、｢SONG｣画面までもどりましょう｡

その後､SELECT+｢↑｣で｢PROJECT｣画面(プロパティ画面)に行きます。
![](https://i.imgur.com/ZFqxLLR.png)

実はこの画面でテンポや全体のキー設定、画面の色等も変更できるのですが、それは今回触れません。

`LOAD/SAVE SONG`を選択します
![](https://i.imgur.com/7WdfJ90.png)

`SAVE`を選択します。
![](https://i.imgur.com/VTsi4BN.png)

`(EMPTY)`を表示されている項目を選びます｡
![](https://i.imgur.com/lIP1EEr.png)

そして名前をつけてOKを押せば･･･     セーブされます!
![](https://i.imgur.com/6S2R14V.png)
![](https://i.imgur.com/UdTds4x.png)

[05. 打ち込んでみよう ->](04.md)