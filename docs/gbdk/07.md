# ゲームボーイで動くプログラムを書いてみる

## 07. 実践2の解答例と実践3

### 実践2の解答例
```c
#include <stdio.h>
#include <gb/gb.h>
#include <gb/drawing.h>

int main() {
    UINT8 joypad_result;

    while (1) {
        gotogxy(2,2); //なくても良い
        
        joypad_result = joypad();

        if (joypad_result == J_A){
            gprintf("PUSH A");
        } else {
            gprintf("      "); // ←6文字の半角スペース。「PUSH A」が6文字なので。
			//(今回の講座ではスプライト等やってないのでこうなっています)
        }
    }
}
```

無限ループで、もしAボタンが押されていれば"PUSH A"を、  
もし押されていなければスペースで上書き描画  
という感じのコードになっています。

これをコンパイルして実行すると・・・  
Aボタンが押されている間"PUSH A"と表示されるプログラムになっているはずです。
![](https://i.imgur.com/D0TyHOw.png)

### 実践3

GBDKを使用していると、実は文字以外にも記号をいくつか使うことが出来ます。  
デフォルトで使える文字は256文字あり、それを全部出すとこの様になっています。  
![](https://i.imgur.com/IWLgvF6.png)


これは、左上から順番に0番~255番までの文字を順番に出したものです。  
これを見ると、矢印記号があることがわかりまね。  
これらの文字は、
```c
gprintf("%c", 1); //上矢印を出す
```

と言ったように、`%c`で1文字出すように指定してから、0~255を指定することで出すことが出来ます。

では、A/B/十字キー/SELECT/START全てにおいて、実践2のようにキーが押されたら対応した文字を表示するプログラムを作ってみましょう。  
十字キーは矢印記号を使用してみてください。
そして可能なら、ゲームボーイの実際のボタン配置を参考にして、画面上で表示する位置も工夫してみましょう。

(同時押しは考慮しなくてもいいです)
![](https://i.imgur.com/UMFrbjH.png)


[08. 実践3の解答例 -> ](08.md)